<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="NeuralSilicon Studio — AI meets custom silicon. FPGA · VLSI · Edge AI" />
  <title>NeuralSilicon Studio - AI Meets Silicon</title>

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" crossorigin="anonymous">

  <style>
    :root{
      --bg:#0a0a0a;
      --panel:#1a1a1a;
      --neon:#00ff88;
      --neon-dim:#00cc77;
      --glass: rgba(0,0,0,0.6);
      --text:#e0e0e0;
      --muted:#bdbdbd;
      --accent-shadow: 0 10px 25px rgba(0,255,136,0.12);
      --max-w:1200px;
      --radius:12px;
      --nav-h:64px;
      --gap:18px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html { scroll-behavior: smooth; }
    body{
      margin:0;
      font-family:'Roboto',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Noto Sans',sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
      overflow-x:hidden;
    }

    /* skip link */
    .skip-link{
      position: absolute;
      left: 8px;
      top: 8px;
      padding:8px 12px;
      background:#fff;
      color:#000;
      border-radius:8px;
      transform: translateY(-120%);
      transition: transform .18s ease;
      z-index:2000;
    }
    .skip-link:focus{ transform: translateY(0); outline: none; }

    header{position:fixed; inset:0 0 auto 0; z-index:1200}
    nav{
      height:var(--nav-h);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:0 22px;
      background:linear-gradient(180deg, rgba(0,0,0,0.85), rgba(0,0,0,0.6));
      border-bottom:1px solid rgba(0,255,136,0.08);
      backdrop-filter: blur(4px);
    }
    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      font-family:'Orbitron',monospace;
      color:var(--neon);
      text-shadow: 0 0 10px rgba(0,255,136,0.12);
      font-size:1.15rem;
    }
    .logo .dot{
      width:14px;height:14px;border-radius:4px;
      background:linear-gradient(180deg,var(--neon),var(--neon-dim));
      box-shadow:0 0 12px rgba(0,255,136,0.4), inset 0 -3px 6px rgba(0,0,0,0.4);
      transform: rotate(20deg);
    }

    .nav-list{
      list-style:none;
      display:flex;
      gap:var(--gap);
      margin:0;
      padding:0;
      align-items:center;
    }
    .nav-link{
      color:var(--neon);
      text-decoration:none;
      font-family:'Orbitron',monospace;
      font-size:1rem;
      padding:8px 10px;
      border-radius:8px;
      transition: all .18s ease;
    }
    .nav-link:hover, .nav-link:focus{ color:#fff; text-shadow:0 0 8px var(--neon); transform:translateY(-2px); outline:none; }
    .nav-link[aria-current="true"]{ background:rgba(0,255,136,0.04); }

    .hamburger{ display:none; cursor:pointer; gap:6px; flex-direction:column; background:transparent; border:none; padding:8px; border-radius:8px; }
    .hamburger:focus{ outline:2px solid var(--neon); outline-offset:2px; }
    .hamburger .bar{ width:24px;height:3px;background:var(--neon); display:block; border-radius:2px; transition:transform .25s, opacity .25s; }

    .hero{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      position:relative;
      padding-top:calc(var(--nav-h) + 20px);
      overflow:hidden;
      background: linear-gradient(45deg,#000,#101010 40%, #1a1a1a 100%);
    }
    .hero-bg{
      position:absolute;
      inset:0;
      object-fit:cover;
      width:100%;
      height:100%;
      opacity:0.12;
      transform:scale(1.06);
      filter: saturate(0.9) contrast(0.9);
      z-index:0;
    }

    .hero::before{
      content:'';
      position:absolute;
      inset:0;
      background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><defs><pattern id="c" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M0 10h10v1H0zM10 0v10h1V0z" fill="%2300ff88" opacity="0.12"/></pattern></defs><rect width="200" height="200" fill="url(%23c)"/></svg>');
      opacity:0.06;
      animation: pan 30s linear infinite;
      mix-blend-mode:screen;
      z-index:1;
    }
    @keyframes pan{ from{transform:translateX(0)} to{transform:translateX(-40px)} }

    .float-svg{ position:absolute; width:180px; height:180px; opacity:0.08; z-index:1; pointer-events:none; will-change:transform,opacity; animation: float 8s ease-in-out infinite; }
    .float-svg.right{ right:-40px; top:10vh; transform: rotate(10deg); animation-delay:2s; }
    .float-svg.left{ left:-40px; bottom:10vh; transform: rotate(-10deg); animation-delay:4s; }
    @keyframes float{ 0% { transform: translateY(0) rotate(0deg) } 50% { transform: translateY(-14px) rotate(4deg) } 100% { transform: translateY(0) rotate(0deg) } }

    .hero-inner{ max-width:var(--max-w); padding: 20px; z-index:2; position:relative; }
    .hero h1{
      font-family:'Orbitron',monospace;
      color:var(--neon);
      font-size:4rem;
      margin:0;
      text-shadow: 0 0 30px rgba(0,255,136,0.12), 0 0 8px rgba(0,255,136,0.06);
      animation: neon 2s ease-in-out infinite alternate;
    }
    @keyframes neon{ from{filter:drop-shadow(0 0 12px rgba(0,255,136,0.08))} to{filter:drop-shadow(0 0 28px rgba(0,255,136,0.22))} }

    .hero p{ color:#f3f3f3; font-size:1.15rem; margin-top:14px; opacity:0.95 }
    .cta{ margin-top:22px; display:inline-flex; gap:12px; align-items:center; flex-wrap:wrap; justify-content:center; }

    .btn{
      background:var(--neon);
      color:#000;
      padding:12px 22px;
      border-radius:8px;
      font-weight:700;
      border:none;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(0,255,136,0.12);
      transition:transform .18s ease,background .18s;
      text-decoration:none;
      display:inline-flex;
      gap:10px;
      align-items:center;
    }
    .btn:hover, .btn:focus{ transform:translateY(-4px); background:var(--neon-dim); outline:none; }

    .reveal { opacity:0; transform: translateY(18px) scale(0.995); transition: opacity .6s cubic-bezier(.22,.9,.3,1), transform .6s cubic-bezier(.22,.9,.3,1); will-change:opacity,transform; }
    .reveal.is-visible{ opacity:1; transform: translateY(0) scale(1); }

    main{ padding-top:12px; }
    .section{ padding:90px 20px; max-width:var(--max-w); margin:0 auto; }
    .section h2{ text-align:center; font-family:'Orbitron',monospace; color:var(--neon); font-size:2.2rem; margin-bottom:24px;}

    .card{ background: linear-gradient(180deg, rgba(20,20,20,0.85), rgba(26,26,26,0.95)); border:1px solid rgba(0,255,136,0.08); border-radius:var(--radius); padding:26px; transition:transform .25s ease, box-shadow .25s ease; position:relative; overflow:hidden; }
    .card::before{ content:''; position:absolute; left:-120%; top:0; height:100%; width:60%; background:linear-gradient(90deg, transparent, rgba(0,255,136,0.06), transparent); transform:skewX(-18deg); transition: left .6s ease; }
    .card:hover::before{ left:120% } .card:hover{ transform:translateY(-8px); box-shadow:var(--accent-shadow) }

    .services-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:22px; }
    .service{ text-align:center; padding:28px; border-radius:10px; }
    .service i{ font-size:2.6rem; color:var(--neon); margin-bottom:12px; display:block; }
    .service h5{ margin:8px 0 10px; font-family:'Orbitron',monospace; color:var(--neon); }
    .service p{ color:var(--text); font-size:0.95rem }

    .portfolio-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:20px; }
    .portfolio-item{
      background:var(--panel); border:1px solid rgba(0,255,136,0.08); border-radius:12px; padding:16px; text-align:left; position:relative; overflow:hidden; transition: transform .28s cubic-bezier(.2,.9,.3,1), box-shadow .28s ease; display:flex; gap:14px; align-items:flex-start; cursor:pointer; transform-origin:center;
    }
    .portfolio-item:hover{ transform: translateY(-9px) rotateX(3deg); box-shadow:var(--accent-shadow) }

    /* consistent thumbnails */
    .portfolio-thumb{ width:120px; height:84px; border-radius:8px; overflow:hidden; flex-shrink:0; background:linear-gradient(180deg, rgba(0,255,136,0.04), rgba(0,255,136,0.01)); display:flex; align-items:center; justify-content:center; position:relative; }
    .portfolio-thumb img{ width:100%; height:100%; object-fit:cover; object-position:center; display:block; transform-origin:center; transition: transform .6s cubic-bezier(.2,.9,.3,1); }
    .portfolio-item:hover .portfolio-thumb img { transform: scale(1.06); }
    .portfolio-thumb::after { content: ""; position:absolute; inset:0; background: linear-gradient(to top, rgba(0,0,0,0.18), rgba(0,0,0,0)); pointer-events: none; }

    .portfolio-item .meta{ flex:1; }
    .portfolio-item h5{ margin:0 0 8px; font-family:'Orbitron',monospace; color:var(--neon); font-size:1.05rem; }
    .portfolio-item p{ margin:0; color:var(--text); font-size:0.95rem; opacity:0.95 }
    .portfolio-item .links{ margin-top:10px; display:flex; gap:12px; align-items:center }
    .portfolio-item a{ color:var(--neon); font-weight:700; text-decoration:none; display:inline-flex; gap:8px; align-items:center }

    .contact-grid{ display:flex; gap:20px; justify-content:center; flex-wrap:wrap; margin-bottom:20px; }
    .contact-card{ background:var(--panel); border:1px solid rgba(0,255,136,0.06); padding:18px; border-radius:10px; min-width:220px; text-align:center; }
    .contact-card i{ color:var(--neon); font-size:1.6rem; margin-bottom:8px; display:block }

    .form-row{ display:flex; gap:14px; flex-wrap:wrap; }
    .form-input, textarea{ flex:1; padding:12px; border-radius:8px; border:1px solid rgba(0,255,136,0.06); background:transparent; color:var(--text); min-width:160px; }
    textarea{ resize:vertical; }

    footer{ padding:18px; text-align:center; color:var(--neon); border-top:1px solid rgba(0,255,136,0.06); font-family:'Orbitron',monospace; margin-top:18px; }

    @media (max-width:900px){ .hero h1{ font-size:3rem } }
    @media (max-width:700px){
      .nav-list{ display:none } .hamburger{ display:flex } .hero{ padding-top:calc(var(--nav-h) + 18px) }
      body.menu-open .nav-list{ display:flex; position:fixed; inset:var(--nav-h) 0 0 0; background:rgba(0,0,0,0.96); flex-direction:column; gap:18px; padding-top:28px; align-items:center; height:calc(100vh - var(--nav-h)); z-index:1199; }
      .portfolio-item{ padding:12px; gap:12px } .portfolio-thumb{ width:96px; height:72px }
    }

    @media (prefers-reduced-motion: reduce) { * { animation: none !important; transition: none !important; scroll-behavior: auto; } .portfolio-item:hover{ transform:none } }

    a:focus, button:focus, input:focus, textarea:focus { outline: 2px dashed var(--neon); outline-offset: 3px; }
    .muted{ color:var(--muted); font-size:0.95rem; }

    /* form status */
    .form-status{ margin-top:12px; padding:12px; border-radius:8px; display:none; }
    .form-status.success{ background: rgba(0,255,136,0.08); color:var(--neon); display:block; }
    .form-status.error{ background: rgba(255,0,88,0.06); color:#ffb3c6; display:block; }

    /* honeypot hidden (visually hidden) */
    .honeypot { position: absolute !important; left: -9999px !important; top: -9999px !important; width: 1px; height: 1px; overflow: hidden; }
  </style>
</head>
<body>

  <a class="skip-link" href="#main">Skip to content</a>

  <header>
    <nav aria-label="Primary Navigation">
      <div class="logo" aria-hidden="true">
        <span class="dot" aria-hidden="true"></span>
        <span>NeuralSilicon</span>
      </div>

      <ul class="nav-list" id="nav-list">
        <li><a class="nav-link" href="#hero">Home</a></li>
        <li><a class="nav-link" href="#about">About</a></li>
        <li><a class="nav-link" href="#services">Services</a></li>
        <li><a class="nav-link" href="#portfolio">Portfolio</a></li>
        <li><a class="nav-link" href="#contact">Contact</a></li>
      </ul>

      <button class="hamburger" id="hamburger" aria-controls="nav-list" aria-expanded="false" aria-label="Open menu">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>
    </nav>
  </header>

  <main id="main">
    <section id="hero" class="hero" aria-labelledby="hero-heading">
      <img class="hero-bg" alt="" aria-hidden="true" src="https://images.unsplash.com/photo-1504384308090-c894fdcc538d?q=80&w=1920&auto=format&fit=crop&ixlib=rb-4.0.3&s=1a9b3ad2be9b6b6a4c8aabf8a2c3ef0f" loading="lazy">

      <svg class="float-svg left" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#00ff88"/><stop offset="1" stop-color="#00cc77"/></linearGradient></defs>
        <rect width="200" height="200" fill="url(#g1)" opacity="0.06" rx="12"/>
        <path d="M10 60 H80 V70 H10z M60 10 V80 H70 V10z" fill="#000" opacity="0.04"/>
      </svg>

      <svg class="float-svg right" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <rect width="200" height="200" fill="#00ff88" opacity="0.04" rx="12"/>
        <circle cx="120" cy="80" r="34" fill="#000" opacity="0.03"/>
      </svg>

      <div class="hero-inner reveal" data-reveal>
        <h1 id="hero-heading">NeuralSilicon Studio</h1>
        <p>⚙️ Where Artificial Intelligence Meets Custom Silicon — FPGA · VLSI · Edge AI</p>
        <div class="cta">
          <button class="btn" type="button" onclick="scrollToSection('portfolio')"><i class="fa fa-rocket" aria-hidden="true"></i> Explore Work</button>
          <a class="btn" id="hero-contact" href="mailto:saimaneeshjs0@gmail.com" rel="noopener"><i class="fa fa-envelope" aria-hidden="true"></i> Contact</a>
        </div>
      </div>
    </section>

    <section id="about" class="section reveal" data-reveal aria-labelledby="about-heading">
      <h2 id="about-heading">About Us</h2>
      <div class="card">
        <p><strong>NeuralSilicon Studio</strong> is a deep-tech engineering lab founded by <strong>Jonnala Sai Maneesh Kumar</strong>. We merge AI and custom silicon design to build high-performance, low-power hardware systems. Our expertise includes FPGA/RTL design, VLSI development, and translating ML algorithms into deployable hardware solutions for edge, industrial, and research applications.</p>
        <p class="muted" style="margin-top:12px;"><em>Our vision:</em> A future where AI runs at silicon speed — enabling smarter, faster, and energy-efficient systems.</p>
      </div>
    </section>

    <section id="services" class="section reveal" data-reveal aria-labelledby="services-heading">
      <h2 id="services-heading">Our Services</h2>
      <div class="services-grid">
        <div class="card service">
          <i class="fas fa-microchip" aria-hidden="true"></i>
          <h5>FPGA &amp; RTL Design</h5>
          <p>Design, verification and optimization of FPGA/RTL modules for performance, area &amp; power efficiency.</p>
        </div>

        <div class="card service">
          <i class="fas fa-brain" aria-hidden="true"></i>
          <h5>AI Hardware Acceleration</h5>
          <p>Mapping ML algorithms to FPGA/ASIC architectures for efficient real-time inference on edge devices.</p>
        </div>

        <div class="card service">
          <i class="fas fa-cubes" aria-hidden="true"></i>
          <h5>Custom IP Cores</h5>
          <p>Reusable IP blocks for DSP, matrix ops, and ML kernels — validated for synthesis and deployment.</p>
        </div>

        <div class="card service">
          <i class="fas fa-handshake" aria-hidden="true"></i>
          <h5>Research &amp; Collaboration</h5>
          <p>Partner with labs and startups for prototyping, verification, and deep-tech productization.</p>
        </div>
      </div>
    </section>

    <section id="portfolio" class="section" aria-labelledby="portfolio-heading">
      <h2 id="portfolio-heading" class="reveal" data-reveal>Portfolio Highlights</h2>

      <!-- updated portfolio-grid with relevant Unsplash queries (consistent thumbnails) -->
      <div class="portfolio-grid">
        <article class="portfolio-item reveal" data-reveal tabindex="0">
          <div class="portfolio-thumb" aria-hidden="true">
            <!-- circuit / pcb close-up -->
            <img src="https://source.unsplash.com/600x400/?circuit,pcb,microchip" alt="RTL Median Filter thumbnail" loading="lazy">
          </div>
          <div class="meta">
            <h5>RTL Median Filter</h5>
            <p>Hardware-accelerated median filter implemented in RTL for CNN preprocessing. Optimized for low-latency FPGA inference pipelines.</p>
            <div class="links"><a href="#" title="View Project" rel="noopener"> <i class="fa fa-link fa-fw" aria-hidden="true"></i> View Project</a></div>
          </div>
        </article>

        <article class="portfolio-item reveal" data-reveal tabindex="0">
          <div class="portfolio-thumb" aria-hidden="true">
            <!-- FPGA / board -->
            <img src="https://source.unsplash.com/600x400/?fpga,board,embedded" alt="CORDIC algorithm thumbnail" loading="lazy">
          </div>
          <div class="meta">
            <h5>CORDIC Algorithm (RTL)</h5>
            <p>Efficient CORDIC core for trig and DSP computations — resource-optimized for FPGA and ASIC targets.</p>
            <div class="links"><a href="#" title="GitHub Repo" rel="noopener"> <i class="fa fa-code-branch fa-fw" aria-hidden="true"></i> GitHub Repo</a></div>
          </div>
        </article>

        <article class="portfolio-item reveal" data-reveal tabindex="0">
          <div class="portfolio-thumb" aria-hidden="true">
            <!-- developer / code -->
            <img src="https://source.unsplash.com/600x400/?code,programming,developer" alt="MIPS processor thumbnail" loading="lazy">
          </div>
          <div class="meta">
            <h5>MIPS-style Processor</h5>
            <p>Custom pipelined MIPS-compatible microarchitecture implemented for embedded workloads with low-power enhancements.</p>
            <div class="links"><a href="#" title="Documentation" rel="noopener"> <i class="fa fa-file-alt fa-fw" aria-hidden="true"></i> Documentation</a></div>
          </div>
        </article>

        <article class="portfolio-item reveal" data-reveal tabindex="0">
          <div class="portfolio-thumb" aria-hidden="true">
            <!-- drone / edge vision -->
            <img src="https://source.unsplash.com/600x400/?drone,vision,surveillance" alt="Animal & vehicle detection thumbnail" loading="lazy">
          </div>
          <div class="meta">
            <h5>Animal &amp; Vehicle Detection</h5>
            <p>Edge-capable CNN models deployed on FPGA for real-time detection in surveillance and autonomous use-cases.</p>
            <div class="links"><a href="#" title="Demo" rel="noopener"> <i class="fa fa-play fa-fw" aria-hidden="true"></i> Demo</a></div>
          </div>
        </article>

        <article class="portfolio-item reveal" data-reveal tabindex="0">
          <div class="portfolio-thumb" aria-hidden="true">
            <!-- agriculture / field -->
            <img src="https://source.unsplash.com/600x400/?agriculture,drone,field" alt="Weed detection thumbnail" loading="lazy">
          </div>
          <div class="meta">
            <h5>Weed Detection for Agriculture</h5>
            <p>Vision-based ML system for identifying weeds in farmlands, optimized for deployment on low-power hardware accelerators.</p>
            <div class="links"><a href="#" title="Watch" rel="noopener"> <i class="fa fa-video fa-fw" aria-hidden="true"></i> Watch Video</a></div>
          </div>
        </article>
      </div>

      <div style="text-align:center;margin-top:36px;" class="reveal" data-reveal>
        <a href="https://github.com/yourusername" class="btn" rel="noopener" target="_blank"><i class="fa fa-github" aria-hidden="true"></i> View All Projects on GitHub</a>
      </div>
    </section>

    <section id="contact" class="section reveal" data-reveal aria-labelledby="contact-heading">
      <h2 id="contact-heading">Contact</h2>

      <div class="contact-grid">
        <div class="contact-card" role="article" aria-label="Email">
          <i class="fas fa-envelope" aria-hidden="true"></i>
          <div style="font-weight:700;margin-top:6px">saimaneeshjs0@gmail.com</div>
        </div>
        <div class="contact-card" role="article" aria-label="Location">
          <i class="fas fa-map-marker-alt" aria-hidden="true"></i>
          <div style="font-weight:700;margin-top:6px">Telangana, Hyderabad</div>
        </div>
      </div>

      <div style="max-width:760px;margin:0 auto;">
        <!-- FORM: replace action with your Formspree endpoint (example: https://formspree.io/f/abcd1234) -->
        <form id="contact-form" action="https://formspree.io/f/YOUR_FORM_ID" method="POST" aria-label="Contact form">
          <div class="form-row">
            <input class="form-input" name="name" id="name" placeholder="Your name" required aria-required="true" />
            <input class="form-input" name="email" id="email" type="email" placeholder="Your email" required aria-required="true" />
          </div>

          <!-- honeypot (leave empty) -->
          <label class="honeypot" aria-hidden="true">Leave this field empty
            <input type="text" name="website" tabindex="-1" autocomplete="off">
          </label>

          <textarea name="message" id="message" rows="6" required placeholder="Your message" class="form-input" style="margin-top:12px"></textarea>

          <div style="text-align:center;margin-top:12px;">
            <button type="submit" id="contact-submit" class="btn"><i class="fa fa-paper-plane" aria-hidden="true"></i> Send Message</button>
          </div>

          <div id="form-status" class="form-status" role="status" aria-live="polite"></div>
        </form>
      </div>
    </section>
  </main>

  <footer>© 2025 NeuralSilicon Studio. All Rights Reserved.</footer>

  <script>
    /* NAV + accessibility + active section */
    const hamburger = document.getElementById('hamburger');
    const body = document.body;
    const navLinks = Array.from(document.querySelectorAll('.nav-link'));
    function setMenu(open){
      body.classList.toggle('menu-open', open);
      hamburger && hamburger.setAttribute('aria-expanded', String(Boolean(open)));
      if(hamburger) hamburger.setAttribute('aria-label', open ? 'Close menu' : 'Open menu');
    }
    hamburger && hamburger.addEventListener('click', () => setMenu(!body.classList.contains('menu-open')));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && body.classList.contains('menu-open')) {
        setMenu(false);
        hamburger && hamburger.focus();
      }
    });
    navLinks.forEach(a => a.addEventListener('click', () => {
      if (window.matchMedia("(max-width:700px)").matches) setTimeout(()=> setMenu(false), 250);
      else setMenu(false);
    }));
    const sections = Array.from(document.querySelectorAll('main section[id]'));
    const obs = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const id = entry.target.id;
        const link = document.querySelector('.nav-link[href="#' + id + '"]');
        if(link) link.setAttribute('aria-current', entry.isIntersecting ? 'true' : 'false');
      });
    }, { root: null, rootMargin: '0px 0px -50% 0px', threshold: 0 });
    sections.forEach(s => obs.observe(s));

    function scrollToSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth', block:'start'});
      setMenu(false);
    }
    window.scrollToSection = scrollToSection;

    // reveal-on-scroll with reduced-motion respect
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (!prefersReduced) {
      const revealEls = Array.from(document.querySelectorAll('[data-reveal]'));
      const revealObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12 });
      revealEls.forEach(el => revealObserver.observe(el));
    } else {
      document.querySelectorAll('[data-reveal]').forEach(el=> el.classList.add('is-visible'));
    }

    /* CONTACT form: honeypot, disabled submit during send, Formspree POST, mailto fallback */
    (function(){
      const form = document.getElementById('contact-form');
      const status = document.getElementById('form-status');
      const submitBtn = document.getElementById('contact-submit');
      const MAIL_TO = 'saimaneeshjs0@gmail.com';

      function setButtonSending(on){
        if(on){
          submitBtn.disabled = true;
          submitBtn.setAttribute('aria-busy','true');
          submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin" aria-hidden="true"></i> Sending...';
        } else {
          submitBtn.disabled = false;
          submitBtn.removeAttribute('aria-busy');
          submitBtn.innerHTML = '<i class="fa fa-paper-plane" aria-hidden="true"></i> Send Message';
        }
      }

      function showStatus(type, text){
        status.className = 'form-status ' + (type === 'success' ? 'success' : 'error');
        status.textContent = text;
        if(type === 'error') setTimeout(()=> status.className = 'form-status', 6000);
      }

      form.addEventListener('submit', async function(e){
        e.preventDefault();
        // honeypot check
        const hp = form.querySelector('input[name="website"]');
        if(hp && hp.value.trim() !== ''){
          // likely bot
          showStatus('error','Spam detected. Submission rejected.');
          return;
        }

        // simple client-side validation
        const name = (form.name.value || '').trim();
        const email = (form.email.value || '').trim();
        const message = (form.message.value || '').trim();
        if(!name || !email || !message){
          showStatus('error','Please fill all fields before sending.');
          return;
        }

        setButtonSending(true);
        status.className = 'form-status';

        const action = form.getAttribute('action') || '';
        const isPlaceholder = action.includes('YOUR_FORM_ID') || action.includes('YOUR_FORMSPREE') || action.includes('YOUR_FORM');

        if(isPlaceholder){
          const mailto = buildMailTo({ name, email, message });
          const openMail = confirm('Form server not configured. Open your mail client to send the message?');
          if(openMail) window.location.href = mailto;
          else showStatus('error','Form not sent. Form server not configured.');
          setButtonSending(false);
          return;
        }

        try{
          const formData = new FormData(form);
          const res = await fetch(action, {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: formData
          });
          if(res.ok){
            showStatus('success','Thanks — your message has been sent. I will reply soon.');
            form.reset();
          } else {
            let msg = 'Submission failed — please try again.';
            try{ const j = await res.json(); if(j && j.error) msg = j.error; }catch(_){}
            showStatus('error', msg);
          }
        }catch(err){
          console.error(err);
          const fallback = confirm('Could not reach form server. Open your mail client to send the message instead?');
          if(fallback) window.location.href = buildMailTo({ name, email, message });
          else showStatus('error','Network error — message not sent.');
        } finally {
          setButtonSending(false);
        }
      });

      function buildMailTo({name, email, message}){
        const subject = encodeURIComponent('Website message from ' + (name || email || 'Website visitor'));
        const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`);
        return `mailto:${MAIL_TO}?subject=${subject}&body=${body}`;
      }
    })();

    // keyboard-friendly portfolio items
    document.querySelectorAll('.portfolio-item').forEach(item => {
      item.addEventListener('keydown', (e) => { if(e.key === 'Enter'){ const link = item.querySelector('a'); if(link) link.click(); } });
      item.addEventListener('click', (e) => {
        const link = item.querySelector('a');
        if(link && (e.target === item || e.target === item.querySelector('.portfolio-thumb') || e.target === item.querySelector('.meta'))) {
          link.click();
        }
      });
    });

    // lazy-img polyfill for older browsers
    document.addEventListener('DOMContentLoaded', function(){
      if('loading' in HTMLImageElement.prototype) return;
      const lazyImgs = document.querySelectorAll('img[loading="lazy"]');
      if('IntersectionObserver' in window){
        const imgObserver = new IntersectionObserver((entries, obs) => {
          entries.forEach(entry => {
            if(entry.isIntersecting){
              const img = entry.target;
              if(img.dataset.src) img.src = img.dataset.src;
              obs.unobserve(img);
            }
          });
        });
        lazyImgs.forEach(img => imgObserver.observe(img));
      }
    });
  </script>
</body>
</html>
